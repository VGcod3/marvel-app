"use strict";(self.webpackChunkmarvel_world=self.webpackChunkmarvel_world||[]).push([[246],{227:function(e,t,n){n.d(t,{Z:function(){return a}});n(791);var r=n.p+"static/media/error.42292aa12b6bc303ce99.gif",c=n(184),a=function(){return(0,c.jsx)("img",{id:"errorImage",src:r,alt:"OOOOOPS, there there is not a chaaracter with this ID"})}},213:function(e,t,n){n.r(t),n.d(t,{default:function(){return d}});var r=n(885),c=n(791),a=n(504),s=n(871),i=n(35),o=n(764),u=n(227),l=n(387),p=n(415),h=n(184),f=function(){return(0,h.jsxs)("div",{className:"app__banner",children:[(0,h.jsx)("img",{src:l,alt:"Avengers"}),(0,h.jsxs)("div",{className:"app__banner-text",children:["New comics every week!",(0,h.jsx)("br",{}),"Stay tuned!"]}),(0,h.jsx)("img",{src:p,alt:"Avengers logo"})]})},m=function(e){var t=e.comic,n=t.title,r=t.description,c=t.pageCount,s=t.thumbnail,i=t.language,o=t.price;return(0,h.jsxs)("div",{className:"single-comic",children:[(0,h.jsx)("img",{src:s,alt:n,className:"single-comic__img"}),(0,h.jsxs)("div",{className:"single-comic__info",children:[(0,h.jsx)("h2",{className:"single-comic__name",children:n}),(0,h.jsx)("p",{className:"single-comic__descr",children:r}),(0,h.jsx)("p",{className:"single-comic__descr",children:c}),(0,h.jsxs)("p",{className:"single-comic__descr",children:["Language: ",i]}),(0,h.jsx)("div",{className:"single-comic__price",children:o})]}),(0,h.jsx)(a.rU,{to:"/comics",className:"single-comic__back",children:"Back to all"})]})},d=function(){var e=(0,s.UO)().comicId,t=(0,c.useState)(null),n=(0,r.Z)(t,2),a=n[0],l=n[1],p=(0,i.Z)(),d=p.loading,g=p.error,v=p.getComics,x=p.clearError;(0,c.useEffect)((function(){b()}),[e]);var b=function(){x(),v(e).then(k)},k=function(e){l(e)},y=g?(0,h.jsx)(u.Z,{}):null,j=d?(0,h.jsx)(o.Z,{}):null,_=d||g||!a?null:(0,h.jsx)(m,{comic:a});return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(f,{}),y,j,_]})}},35:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(861),c=n(757),a=n.n(c),s=n(885),i=n(791),o=n(671),u=n(144),l=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1200,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:localStorage;(0,o.Z)(this,e),this.isEmpty=function(){return!n.get()},this.key=t,this.storageType=c,this.expire=r}return(0,u.Z)(e,[{key:"set",value:function(e){this.storageType.setItem(this.key,JSON.stringify(e))}},{key:"get",value:function(){return JSON.parse(this.storageType.getItem(this.key))}},{key:"clear",value:function(){this.storageType.setItem(this.key,null)}}]),e}(),p=l,h=function(){var e=function(){var e=(0,i.useState)(!1),t=(0,s.Z)(e,2),n=t[0],c=t[1],o=(0,i.useState)(!1),u=(0,s.Z)(o,2),l=u[0],h=u[1],f=(0,i.useCallback)(function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,s,i,o,u,l=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:"GET",r=l.length>2&&void 0!==l[2]?l[2]:null,s=l.length>3&&void 0!==l[3]?l[3]:{"content-type":"application/json"},c(!0),e.prev=4,!(i=new p("".concat(t))).isEmpty()){e.next=19;break}return e.next=9,fetch(t,{method:n,body:r,headers:s});case 9:if((o=e.sent).ok){e.next=12;break}throw Error("Could not fetch ".concat(t,", status: ").concat(o.status," "));case 12:return e.next=14,o.json();case 14:return u=e.sent,i.set(u),e.next=18,u;case 18:return e.abrupt("return",e.sent);case 19:return e.abrupt("return",i.get());case 22:throw e.prev=22,e.t0=e.catch(4),console.error(e.t0),h(e.t0.message),e.t0;case 27:return e.prev=27,c(!1),e.finish(27);case 30:case"end":return e.stop()}}),e,null,[[4,22,27,30]])})));return function(t){return e.apply(this,arguments)}}(),[]);return{request:f,error:l,loading:n,clearError:(0,i.useCallback)((function(){h(null)}))}}(),t=e.loading,n=e.request,c=e.error,o=e.clearError,u="https://gateway.marvel.com:443/v1/public/",l="40ad5e34c59f99b7cf492065754a5e7d",h=function(){var e=(0,r.Z)(a().mark((function e(){var t,r,c=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:200,e.next=3,n("".concat(u,"characters?limit=9&offset=").concat(t,"&apikey=").concat(l));case 3:return r=e.sent,e.abrupt("return",r.data.results.map(v));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("".concat(u,"characters/").concat(t,"?apikey=").concat(l));case 2:return r=e.sent,e.abrupt("return",v(r.data.results[0]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(a().mark((function e(){var t,r,c,s=arguments;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.length>0&&void 0!==s[0]?s[0]:8,r=s.length>1&&void 0!==s[1]?s[1]:0,e.next=4,n("".concat(u,"/comics?noVariants=true&limit=").concat(t,"&offset=").concat(r,"&apikey=").concat(l));case 4:return c=e.sent,e.abrupt("return",c.data.results.map(g));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n("".concat(u,"comics/").concat(t,"?apikey=").concat(l));case 2:return r=e.sent,e.abrupt("return",g(r.data.results[0]));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e){return{id:e.id,title:e.title,description:e.description||"There is no description",pageCount:e.pageCount?"".concat(e.pageCount," p."):"No information about the number of pages",thumbnail:e.thumbnail.path+"."+e.thumbnail.extension,language:e.textObjects.language||"en-us",price:e.prices[0].price?"".concat(e.prices[0].price,"$"):"not available"}},v=function(e){var t=e.name,n=e.description,r=e.thumbnail,c=e.urls,a=e.id,s=e.comics;return{name:t,id:a,description:n?n.length>=210?n.slice(0,210)+"...":n:"There is no description for this character",thumbnail:"".concat(r.path,".").concat(r.extension),homepage:c[0].url,wiki:c[1].url,comics:s.items}};return{loading:t,error:c,getAllCharacters:h,getCharacter:f,clearError:o,getComics:d,getAllComics:m}}},387:function(e,t,n){e.exports=n.p+"static/media/Avengers.4065c8f9c94e3d8b039a.png"},415:function(e,t,n){e.exports=n.p+"static/media/Avengers_logo.9eaf219344d83362e830.png"}}]);
//# sourceMappingURL=246.4926df0d.chunk.js.map